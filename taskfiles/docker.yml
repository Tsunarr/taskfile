---
version: "3"

tasks:
  build:
    silent: true
    internal: true
    vars:
      DOCKER_BUILD_ARGS: "--build-arg {{.DOCKER_BUILD_ARGS | default \"\"}}"
      DOCKER_IMAGE_NAME: "{{.DOCKER_IMAGE_NAME}}"
      DOCKER_IMAGE_TAG: "{{.DOCKER_IMAGE_TAG}}"
    cmds:
      - docker build -t {{.DOCKER_IMAGE_NAME}}:{{.DOCKER_IMAGE_TAG}} "{{.DOCKER_BUILD_ARGS}}" .
    dir: "{{.DOCKER_DIR}}"